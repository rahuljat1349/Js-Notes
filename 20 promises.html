<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises</title>
</head>

<body>
    <script>

        // we use promises to control the asyncronous nature of JavaScript


        // Promise statement

        // let promise = new Promise(function (resolve, reject) {
        //     setTimeout(() => {
        //         console.log("Hello");
        //         resolve(20);
        //     }, 2000);
        // });


        // promise()
        // console.log(promise);








        // *****************************************************************//




        // simple promise


        // const ticket = new Promise((resolve, reject) => {
        //     const isBoarded = false;
        //     if (isBoarded) {
        //         resolve("You got the flight")
        //     }
        //     else {
        //         reject("Your flight was cancelled")
        //     }
        // })


        // ticket
        //     .then((data) => console.log("Congrats." + data))
        //     .catch((data) => console.log("Oh no," + data))
        //     .finally(() => console.log("Done"))
































        //**********************************************************************************************//





        // let cheese = () => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             const cheese = "🧀";
        //             resolve(cheese);
        //         }, 2000);
        //     });
        // };


        // let makedough = (cheese) => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             const dough = cheese + "🥯";
        //             resolve("dough");
        //         }, 2000);
        //     });
        // };


        // let bakepizza = (dough) => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             const pizza = dough + "🍕";
        //             resolve(pizza);
        //         }, 2000);
        //     });
        // };




        // cheese()
        //     .then((cheese) => {
        //         console.log("cheese is here", cheese)
        //         return makedough(cheese)
        //     }).then((dough) => {
        //         console.log("dough is here", dough)
        //         return bakepizza(dough)
        //     }).then((pizza) => {
        //         console.log("pizza is here", pizza)
        //     }).catch((err) => console.log("Some error occurred :", err))
















        //***************************************************************************************//

        // CodeWithHarry

        // let p1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve("Promise 1 resolved");
        //     }, 2000);
        // });

        // let p2 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         reject(new Error("some error occurred in promise 2"));
        //     }, 2000);
        // });


        // getting the value

        // p1.then((data) => {
        //     console.log(data);
        // });

        // catching the error

        // p2.catch((err) => {
        //     console.log(err);
        // });

        // or, both of at once

        // p2.then((data) => console.log(data), (err) => console.log(err))












        // **********************************************************************************************//










        // const loadscript = (src) => {
        //     return new Promise((resolve, reject) => {
        //         let script = document.createElement("script");
        //         script.src = src;
        //         script.type = "text/javascript"
        //         document.body.appendChild(script);
        //         script.onload = () => {
        //             resolve(1);
        //         };
        //         script.onerror = () => {
        //             reject(0)
        //         };
        //     });
        // };



        // loadscript("https://cjdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")

            // x.then((value) => {
            //     console.log("Script 1 has been loaded");
            // }).catch((err) => {
            //     console.log("Error loading script 1");
            //     return loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
            // }).then((data) => {
            //     console.log("Script 2 has been loaded");
            // }).catch((err) => {
            //     console.log("Error loading script 2")

            // })


            //or

            // .then((data) => {
            //     console.log("Script 1 has been loaded");
            // }, (err) => {
            //     console.log("Error loading script 1");
            //     return loadscript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js");
            // })
            // .then((data) => {
            //     console.log("script 2 has been loaded");
            // }, (err) => {
            //     console.log("Error loading script 2");
            // })




























    </script>
</body>

</html>